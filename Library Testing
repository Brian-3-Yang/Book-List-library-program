import tkinter as tk
from tkinter import *


"""
#Initializing books
with open("bookList.csv", 'w') as f:
    f.write("lotm,Lord of the Mysteries,True\n")
    f.write("kino,Kino's Journey,\n")
"""

#Classes
class Library:
    def __init__(self, ID):
        self.ID = ID
        self.bookList = []

    def showall(self):
        print(f"Books currently in the library: {len(self.bookList)}")
        counter = 0
        for i in self.bookList:
            counter += 1
            print(f"Book {counter}: {i.name}, {i.favourite}")

        print("Here's what the current library list looks like")
        print(self.bookList)
            

    def addBook(self):
        new_window = Toplevel(window)  # Create a new window
        new_window.title("New Window")
        new_window.geometry("600x500")  
        Label(new_window, text="Add Books").place(x=150,y=0)
        Label(new_window, text="Name").place(x=30,y=250)
        Label(new_window, text="Link").place(x=30,y=400)
        Label(new_window, text="Description/Comments").place(x=350,y=100)

        Entry(new_window, text="Insert...").place(x=30,y=300)
        Entry(new_window, text="Insert link...").place(x=30,y=450)
        Entry(new_window, text="Insert description...", height=10).place(x=350,y=150)

        Button(new_window, text="Cancel", command=nothing).place(x=400,y=350)
        Button(new_window, text="Add", command=nothing).place(x=500,y=350)




    def add(self, book):
        self.bookList.append(book) #Book is an object btw

    def remove(self):
        pass

    def change(self):
        pass

    def filter(self):
        pass

class Book:
    def __init__(self, name, favourite=False, position=None):
        self.name = name
        self.favourite = favourite

    def show(self):
        print(self.name, self.position, "favourite:", self.favourite)


#Functions
def add():
    Librarby.addBook()

def remove():
    pass

def bookify(name, favourite=False):
    book = Book(name, favourite)
    Librarby.add(book)

def nothing():
    #Nothing happens
    pass
Librarby = Library(1)

with open("bookList.csv", 'r') as f:
    bl = []
    for line in f:
        line = line.strip()
        a = line.split(',')
        bl.append(a)

for object in bl:
    name = object[1]
    favourite = bool(object[2]) #As long as object[2] = "", bool will return false.
    book = Book(name, favourite)
    Librarby.add(book)


#Code
#GUI settings
window = Tk()
window.title("Library")
window.geometry("650x650")

#Objects initialize


buttonAdd = Button(window, text="Add", command=add)
buttonRemove = Button(window, text="Remove", command=remove)

buttonAdd.place(x=0,y=50)
buttonRemove.place(x=100,y=50)

window.mainloop()

#Saving objects to file

#Stuff to do
# Save the objects that are already in the library to a file
#Idea: Save data to a file as text or something then when starting the program, read from said file to re-initialize the objects.
# When running read the objects and restore them
